<div class="content-wrapper">
    <section class="content-header">
        <h1>
            <%=CGlobal.serverLang('权限设置')%>
        </h1>
        <breadcrumb></breadcrumb>
    </section>

    <section class="content">
        <div class="box box-flat animated fadeInRight">
            <div class="box-body">
                <div class="row margin-row">
                    <div class="col-md-5 col-sm-6 col-xs-12">
                        <div class="input-group">
                            <label class="input-group-addon"><%=CGlobal.serverLang('权限组名_h')%></label>
                            <input class="form-control" id="rightsName">
                        </div>
                    </div>
                    <div class="col-md-7 col-sm-6 col-xs-12">
                        <div class="btn-group pull-right">
                            <button class="btn btn-danger btn-flat" id="deleteRights" disabled>
                                <span class="glyphicon glyphicon-trash"></span>
                                <%=CGlobal.serverLang('删除')%>
                            </button>
                            <button class="btn btn-default" id="newRights">
                                <span class="glyphicon glyphicon-file"></span>
                                <%=CGlobal.serverLang('新建')%>
                            </button>
                            <button class="btn btn-default btn-flat" id="searchRights">
                                <span class="glyphicon glyphicon-search"></span>
                                <%=CGlobal.serverLang('查询')%>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12">
                        <table class="table table-no-bordered" id="rightsTable">
                        </table>
                        <%#表格右击触发事件%>
                        <ul id="context-menu" class="dropdown-menu skin-menu">
                            <li data-item="newRights"><a href="javascript:void(0);"><%=CGlobal.serverLang('新建')%></a></li>
                            <li data-item="modifyRights"><a href="javascript:void(0);"><%=CGlobal.serverLang('编辑')%></a></li>
                            <li data-item="deleteRights"><a href="javascript:void(0);"><%=CGlobal.serverLang('删除')%></a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!--模态框-->
    <div class="modal fade" tabindex="-1" role="dialog" id="rightsModal"
             aria-labelledby="rightsModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content right-content"><%#right-content这个类用于js获取区域的%>
                <div class="modal-header">
                    <h4 class="modal-title" id="rightsModalLabel"></h4>
                </div>
                <div class="modal-body">
                    <div class="form-details col-per-3 mw-max">
                        <input class="hidden" id="_id">
                        <div class="input-group">
                            <label class="input-group-addon required" for="inputGroup"><%=CGlobal.serverLang('权限组名_h')%></label>
                            <input type="text" class="form-control" id="inputGroup">
                        </div>
                        <div class="input-group">
                            <label class="input-group-addon required" for="inputCode"><%=CGlobal.serverLang('权限代码')%></label>
                            <input type="text" class="form-control" id="inputCode" disabled>
                        </div>
                        <div class="input-group">
                            <label class="input-group-addon" for="inputDesc"><%=CGlobal.serverLang('描述')%></label>
                            <input type="text" class="form-control" id="inputDesc">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12">
                            <table class="table table-no-bordered" id="codeTable">
                                <%CGlobal.forEach(rightsData,function(i,v){%>
                                <tr>
                                    <td></td>
                                    <td><%=v.code%></td>
                                    <td><%=v.desc%></td>
                                </tr>
                                <%})%>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" id="saveRights"></button>
                    <button type="button" class="btn btn-default" data-dismiss="modal"><%=CGlobal.serverLang('关闭')%></button>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    requirejs.undef("rightsSetup");
    requirejs.config({
        baseUrl:'/js',
        paths:{
            rightsSetup:'super/rights/rightsSetupController'
        },
        loadContainer:'#ngView',
        deps:['rightsSetup']
    });
</script>